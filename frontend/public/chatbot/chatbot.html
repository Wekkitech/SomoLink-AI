<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>SomoLink AI Chat</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <meta
      http-equiv="Content-Security-Policy"
      content="
        default-src 'self' https:;
        script-src 'self' https:;
        style-src 'self' https:;
        img-src 'self' data: https:;
        connect-src 'self' https://n8n.srv952367.hstgr.cloud;
      "
    />

    <link rel="stylesheet" href="./chatbot.css" />
  </head>

  <body>
    <main class="container" role="main">
      <header class="header">
        <div class="logo">‚òÄÔ∏è SomoLink</div>
        <div class="tagline">
          Solar Powered Internet for Schools and Communities
        </div>
        <p class="description">
          Bringing reliable sustainable internet access to schools and
          communities.
        </p>
      </header>

      <section class="features" aria-hidden="true">
        <div class="feature-card">
          <div class="feature-icon">üåç</div>
          <h3>Free for Schools</h3>
          <p>Schools get free internet access with unique school codes.</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">üí≥</div>
          <h3>Affordable Access</h3>
          <p>
            Flexible packages starting from KES 50. Pay via M PESA or cards.
          </p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">‚òÄÔ∏è</div>
          <h3>100% Solar</h3>
          <p>Sustainable infrastructure powered by solar energy.</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">ü§ñ</div>
          <h3>AI Support</h3>
          <p>Instant help in English or Swahili from SomoBot.</p>
        </div>
      </section>

      <section class="cta-section" aria-hidden="true">
        <h2 class="cta-title">Ready to Get Connected?</h2>
        <p class="cta-text">
          Click the chat button to get instant help from SomoBot.
        </p>
      </section>
    </main>

    <!-- chat widget -->
    <div class="chat-widget" aria-live="polite">
      <button class="chat-toggle" id="chatToggle" aria-label="Open chat">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path
            d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"
          />
        </svg>
        <span class="chat-badge" id="chatBadge" aria-hidden="true">1</span>
      </button>

      <div
        class="chat-window"
        id="chatWindow"
        role="dialog"
        aria-modal="false"
        aria-hidden="true"
      >
        <div class="chat-header">
          <div class="chat-header-info">
            <div class="chat-avatar" aria-hidden="true">ü§ñ</div>
            <div class="chat-header-text">
              <h3>SomoBot</h3>
              <p>Online ‚Ä¢ Responds in seconds</p>
            </div>
          </div>
          <button class="chat-close" id="chatClose" aria-label="Close chat">
            √ó
          </button>
        </div>

        <div
          class="chat-messages"
          id="chatMessages"
          role="log"
          aria-live="polite"
        ></div>

        <div class="chat-input-container">
          <div class="chat-input-wrapper">
            <input
              id="chatInput"
              class="chat-input"
              type="text"
              placeholder="Type your message..."
              autocomplete="off"
            />
            <button id="chatSend" class="chat-send" aria-label="Send">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- external script file to satisfy CSP -->
    <script src="./chatbot.js" defer></script>
  </body>
</html>
